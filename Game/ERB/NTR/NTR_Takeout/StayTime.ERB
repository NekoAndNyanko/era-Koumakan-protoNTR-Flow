;-------------------------------------------------------------------------------
;	お持ち帰り長期滞在関係
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;現在の長期滞在日数を得る
;@return 0～7の整数
@NTR_GET_STAYOUT_CURRENT(奴隷)
#FUNCTION
#DIM 奴隷
;RETURNF (CFLAG:奴隷:長期滞在最大日数 & 0b00001111)
RETURNF CFLAG:奴隷:当前長期滞在日数
;-------------------------------------------------------------------------------
;長期滞在最大日数を得る
;@return 0～7の整数
@NTR_GET_STAYOUT_MAXIMUM(奴隷)
#FUNCTION
#DIM 奴隷
;RETURNF (CFLAG:奴隷:長期滞在最大日数 & 0b11110000) >> 4
RETURNF CFLAG:奴隷:長期滞在最大日数
;-------------------------------------------------------------------------------
;現在の長期滞在日数を保存する(基本的に0にリセットする用)
@NTR_SET_STAYOUT_CURRENT(奴隷,日数)
#DIM 奴隷
#DIM 日数
;1～4ビット目を0にした後、日数を加算
;CFLAG:奴隷:長期滞在最大日数 &= ~0b00001111
;CFLAG:奴隷:長期滞在最大日数 += (日数 & 0b00001111)
CFLAG:奴隷:当前長期滞在日数 = 日数
RETURN 0

;-------------------------------------------------------------------------------
;長期滞在最大日数を保存する
@NTR_SET_STAYOUT_MAXIMUM(奴隷,日数)
#DIM 奴隷
#DIM 日数
;5～8ビット目を0にした後、日数を左4ビットシフトして 0bXXXX0000 を作り加算
;CFLAG:奴隷:長期滞在最大日数 &= ~0b11110000
;CFLAG:奴隷:長期滞在最大日数 += ((日数 & 0b00001111) << 4)
CFLAG:奴隷:長期滞在最大日数 = 日数
RETURN 0