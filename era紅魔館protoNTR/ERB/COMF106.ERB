;-------------------------------------------------
;ボールギャグ
;SM系コマンド、レベル2
;-------------------------------------------------
@COM106

TRYCALL COM417_is_Protected(PLAYER,TARGET,娼婦紋_右頬)
SIF RESULT
	RETURN 0

;着脱の処理
TEQUIP:ボールギャグ = !TEQUIP:ボールギャグ
;-------------------------------------------------
;COM別FLAGの設定
;-------------------------------------------------
;行為者
TCVAR:116 = PLAYER
;-------------------------------------------------
;ソース追加処理
;-------------------------------------------------
;消費体力、気力
DOWNBASE:体力 += 0
DOWNBASE:気力 += 50

SOURCE:恐怖 = 500
SOURCE:露出 = 200
SOURCE:屈従 = 150
SOURCE:逸脱 = 100
SOURCE:反感 = 300

;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;緊縛経験が高いと消費減少
IF EXP:緊縛経験 < EXPLV:3
	TIMES DOWNBASE:体力 , 1.00
	TIMES DOWNBASE:気力 , 1.00
ELSEIF EXP:緊縛経験 < EXPLV:4
	TIMES DOWNBASE:体力 , 0.90
	TIMES DOWNBASE:気力 , 0.90
ELSE
	TIMES DOWNBASE:体力 , 0.70
	TIMES DOWNBASE:気力 , 0.70
ENDIF

;-------------------------------------------------
;経験の処理
;-------------------------------------------------
EXP:緊縛経験 += 2

RETURN 1
;-------------------------------------------------
;装着継続の処理
;-------------------------------------------------
@EQUIP_COM106(ARG)
PRINTL ＜ボールギャグ装備中＞

;-------------------------------------------------
;ソース追加処理
;-------------------------------------------------
;消費体力、気力
DOWNBASE:ARG:体力 += 0

SOURCE:ARG:恐怖 += 250
SOURCE:ARG:露出 += 150
SOURCE:ARG:屈従 += 75
SOURCE:ARG:逸脱 += 50
SOURCE:ARG:反感 += 150

;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;緊縛経験が高いと消費減少
LOCAL = 25
IF EXP:ARG:緊縛経験 < EXPLV:3
	TIMES LOCAL , 1.00
ELSEIF EXP:ARG:緊縛経験 < EXPLV:4
	TIMES LOCAL , 0.90
ELSE
	TIMES LOCAL , 0.70
ENDIF
DOWNBASE:ARG:気力 += LOCAL

;-------------------------------------------------
;経験の処理
;-------------------------------------------------
EXP:ARG:緊縛経験 ++

RETURN 1

