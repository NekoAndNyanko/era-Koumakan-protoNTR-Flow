;原名：次の目的地
;想要到达“当前目的地”，就必须先途经RETURNF的位置，例如想要到达图书馆，就必须先到达大厅。
;如果有不同情况的，则通过“出发地”来区分，例如大厅：从院子到大厅，应该经过后门（食堂）；而馆外则要先到达正门；其余情况（出发地在二楼）则要先到达二楼楼梯间。
;总之，依次递归，就可以求出每一步的路径点。
;(場所, 場所)=>場所
@前置目的地计算(出发地, 当前目的地)
#FUNCTION
#DIM 出发地
#DIM 当前目的地
SELECTCASE 当前目的地
	CASE 位置_红魔馆正门
		;正門に直接行けない場合、湖南部, 魔法之森内部なら湖北部を目指す
		SELECTCASE 出发地
			CASE 位置_雾之湖南部, 位置_魔法之森内部
				RETURNF 位置_雾之湖北部
				;それ以外は広間を目指す
			CASEELSE
				RETURNF 位置_大厅
		ENDSELECT
	CASE 位置_大厅
		SELECTCASE 出发地
				;広間を目指す場合、現在地が位置_院子なら位置_食堂を目指す
			CASE 位置_院子
				RETURNF 位置_食堂
				;館の外からは正門を目指す
			CASE 位置_守卫小屋, 位置_雾之湖北部, 位置_雾之湖南部, 位置_魔法之森内部
				RETURNF 位置_红魔馆正门
			CASEELSE
				;それ以外の(直接行けない)場所からは、位置_二楼楼梯间を目指す
				RETURNF 位置_二楼楼梯间
		ENDSELECT
	CASE 位置_食堂
		;食堂に直接行けない場合、位置_大厅を目指す
		RETURNF 位置_大厅
	CASE 位置_图书室
		;図書室に直接行けない場合、位置_大厅を目指す
		RETURNF 位置_大厅
	CASE 位置_厨房
		;厨房に直接行けない場合、位置_食堂を目指す
		RETURNF 位置_食堂
	CASE 位置_仓库
		;納屋に直接行けない場合、位置_院子を目指す
		RETURNF 位置_院子
	CASE 位置_帕秋莉私室
		;パチェ私室に直接行けない場合、位置_图书室を目指す
		RETURNF 位置_图书室
	CASE 位置_小恶魔私室
		;こぁ私室に直接行けない場合、位置_图书室を目指す
		RETURNF 位置_图书室
	CASE 位置_守卫小屋
		;守衛小屋私室に直接行けない場合、位置_红魔馆正门を目指す
		RETURNF 位置_红魔馆正门
	CASE 位置_院子
		;庭に直接行けない場合、位置_食堂を目指す
		RETURNF 位置_食堂
	CASE 位置_二楼楼梯间
		SELECTCASE 出发地
				;踊り場に直接行けない場合、現在地が位置_咲夜私室〜位置_玩家房间, 位置_2F厕所なら位置_二楼走廊を目指す
			CASE 位置_咲夜私室, 位置_妖精女仆办公室, 位置_玩家房间, 位置_2F厕所
				RETURNF 位置_二楼走廊
			CASEELSE
				;それ以外の(直接行けない)場所からは、位置_大厅を目指す
				RETURNF 位置_大厅
		ENDSELECT
	CASE 位置_二楼走廊
		;二回廊下に直接行けない場合、位置_二楼楼梯间を目指す
		RETURNF 位置_二楼楼梯间
	CASE 位置_咲夜私室
		;咲夜私室に直接行けない場合、位置_二楼走廊を目指す
		RETURNF 位置_二楼走廊
	CASE 位置_妖精女仆办公室
		;妖精メイド詰所に直接行けない場合、位置_二楼走廊を目指す
		RETURNF 位置_二楼走廊
	CASE 位置_玩家房间
		;玩家房间に直接行けない場合、位置_二楼走廊を目指す
		RETURNF 位置_二楼走廊
	CASE 位置_蕾米莉亚私室
		;レミ私室に直接行けない場合、位置_二楼楼梯间を目指す
		RETURNF 位置_二楼楼梯间
	CASE 位置_地下室
		;地下室に直接行けない場合、位置_地下室走廊を目指す
		RETURNF 位置_地下室走廊
	CASE 位置_大浴場
		;大浴場に直接行けない場合、位置_地下室走廊を目指す
		RETURNF 位置_地下室走廊
	CASE 位置_雾之湖北部 
		;湖北部に直接行けない場合正門を目指す
		RETURNF 位置_红魔馆正门
	CASE 位置_琪露诺的家 
		;琪露诺的家に直接行けない場合、位置_雾之湖南部を目指す
		RETURNF 位置_雾之湖南部
	CASE 位置_大妖精的家 
		;大妖精的家に直接行けない場合、位置_雾之湖南部を目指す
		RETURNF 位置_雾之湖南部
	CASE 位置_魔理沙的家 
		;魔理沙的家に直接行けない場合、位置_魔法之森内部を目指す
		RETURNF 位置_魔法之森内部
	CASE 位置_屋外厕所
		;野外トイレに直接行けない場合、位置_院子を目指す
		RETURNF 位置_院子
	CASE 位置_1F厕所
		;1F厕所に直接行けない場合、位置_大厅を目指す
		RETURNF 位置_大厅
	CASE 位置_2F厕所
		;2F厕所に直接行けない場合、位置_二楼走廊を目指す
		RETURNF 位置_二楼走廊
	CASE 位置_3F阳台
		;3F阳台に直接行けない場合、位置_蕾米莉亚の部屋を目指す
		RETURNF 位置_蕾米莉亚私室
	CASE 位置_雾之湖南部
		;湖南部に直接行けない場合、位置_雾之湖北部を目指す
		RETURNF 位置_雾之湖北部
	CASE 位置_魔法之森内部
		;魔法之森内部に直接行けない場合、位置_位置_雾之湖北部を目指す
		RETURNF 位置_雾之湖北部
	CASE 位置_露米娅的家
		;露米娅的家に直接行けない場合、位置_魔法之森内部を目指す
		RETURNF 位置_魔法之森内部
	CASE 位置_爱丽丝的家
		;爱丽丝的家に直接行けない場合、位置_魔法之森内部を目指す
		RETURNF 位置_魔法之森内部
	CASE 位置_地下室走廊
		RETURNF 位置_大厅
	CASE 位置_博麗神社
		;博麗神社に直接行けない場合、位置_雾之湖北部を目指す
		RETURNF 位置_雾之湖北部
ENDSELECT
THROW その場所は想定されていません{当前目的地}