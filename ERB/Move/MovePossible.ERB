;-------------------------------------------------------------------------------
;这里返回从場所0能否一步移动到場所1
;FIXME:関数の説明を書いてください
;@return 2:移动可＋目視可, 1:移动可, 0:移动不可
@CAN_MOVE(場所0, 場所1)
#FUNCTION
#DIM 場所0
#DIM 場所1
;RETURNF 2は間に扉がなく見透かせる。庭から二階は見えないが逆は見える
SELECTCASE 場所0
		;正門から
	CASE 位置_红魔馆正门
		;広間（階段）
		SIF 場所1 == 位置_大厅
			RETURNF 1
		;守衛小屋
		SIF 場所1 == 位置_守卫小屋
			RETURNF 1
		;納屋
		SIF 場所1 == 位置_仓库
			RETURNF 1
		;庭 + 見える
		SIF 場所1 == 位置_院子
			RETURNF 2
		;湖北部
		SIF 場所1 == 位置_雾之湖北部
			RETURNF 1
		;広間（階段）から
	CASE 位置_大厅
		;正門
		SIF 場所1 == 位置_红魔馆正门
			RETURNF 1
		;食堂
		SIF 場所1 == 位置_食堂
			RETURNF 1
		;図書室
		SIF 場所1 == 位置_图书室
			RETURNF 1
		;踊り場 + 見える
		SIF 場所1 == 位置_二楼楼梯间
			RETURNF 2
		;地下室走廊
		SIF 場所1 == 位置_地下室走廊
			RETURNF 1
		;1F厕所
		SIF 場所1 == 位置_1F厕所
			RETURNF 1
		;食堂から
	CASE 位置_食堂
		;広間（階段）
		SIF 場所1 == 位置_大厅
			RETURNF 1
		;厨房
		SIF 場所1 == 位置_厨房
			RETURNF 1
		;守衛小屋
		SIF 場所1 == 位置_守卫小屋
			RETURNF 1
		;庭 + 見える
		SIF 場所1 == 位置_院子
			RETURNF 2
		;屋外厕所
		SIF 場所1 == 位置_屋外厕所
			RETURNF 1
		;図書室から
	CASE 位置_图书室
		;広間（階段）
		SIF 場所1 == 位置_大厅
			RETURNF 1
		;パチュリー私室
		SIF 場所1 == 位置_帕秋莉私室
			RETURNF 1
		;小恶魔私室
		SIF 場所1 == 位置_小恶魔私室
			RETURNF 1
		;厨房から
	CASE 位置_厨房
		;食堂
		SIF 場所1 == 位置_食堂
			RETURNF 1
		;納屋から
	CASE 位置_仓库
		;庭
		SIF 場所1 == 位置_院子
			RETURNF 1
		;パチュリー私室から
	CASE 位置_帕秋莉私室
		;図書室
		SIF 場所1 == 位置_图书室
			RETURNF 1
		;小恶魔私室から
	CASE 位置_小恶魔私室
		;図書室
		SIF 場所1 == 位置_图书室
			RETURNF 1
		;守衛小屋から
	CASE 位置_守卫小屋
		;正門
		SIF 場所1 == 位置_红魔馆正门
			RETURNF 1
		;食堂
		SIF 場所1 == 位置_食堂
			RETURNF 1
		;庭
		SIF 場所1 == 位置_院子
			RETURNF 1
		;屋外厕所
		SIF 場所1 == 位置_屋外厕所
			RETURNF 1
		;庭から
	CASE 位置_院子
		;正門 + 見える
		SIF 場所1 == 位置_红魔馆正门
			RETURNF 2
		;食堂 + 見える
		SIF 場所1 == 位置_食堂
			RETURNF 2
		;納屋
		SIF 場所1 == 位置_仓库
			RETURNF 1
		;守衛小屋
		SIF 場所1 == 位置_守卫小屋
			RETURNF 1
		;屋外厕所
		SIF 場所1 == 位置_屋外厕所
			RETURNF 1
		;踊り場から
	CASE 位置_二楼楼梯间
		;広間（階段） + 見える
		SIF 場所1 == 位置_大厅
			RETURNF 2
		;二階廊下 + 見える
		SIF 場所1 == 位置_二楼走廊
			RETURNF 2
		;蕾米莉亚私室
		SIF 場所1 == 位置_蕾米莉亚私室
			RETURNF 1
		;二階廊下から
	CASE 位置_二楼走廊
		;踊り場 + 見える
		SIF 場所1 == 位置_二楼楼梯间
			RETURNF 2
		;咲夜私室
		SIF 場所1 == 位置_咲夜私室
			RETURNF 1
		;妖精メイド詰所
		SIF 場所1 == 位置_妖精女仆办公室
			RETURNF 1
		;玩家房间
		SIF 場所1 == 位置_玩家房间
			RETURNF 1
		;2F厕所
		SIF 場所1 == 位置_2F厕所
			RETURNF 1
		;咲夜私室から
	CASE 位置_咲夜私室
		;庭 + 見える
		SIF 場所1 == 位置_院子
			RETURNF 2
		;二階廊下
		SIF 場所1 == 位置_二楼走廊
			RETURNF 1
		;妖精メイド詰所から
	CASE 位置_妖精女仆办公室
		;庭 + 見える
		SIF 場所1 == 位置_院子
			RETURNF 2
		;二階廊下
		SIF 場所1 == 位置_二楼走廊
			RETURNF 1
		;玩家房间から
	CASE 位置_玩家房间
		;庭 + 見える
		SIF 場所1 == 位置_院子
			RETURNF 2
		;二階廊下
		SIF 場所1 == 位置_二楼走廊
			RETURNF 1
		;蕾米莉亚私室から
	CASE 位置_蕾米莉亚私室
		;庭 + 見える
		SIF 場所1 == 位置_院子
			RETURNF 2
		;踊り場
		SIF 場所1 == 位置_二楼楼梯间
			RETURNF 1
		;3F阳台
		SIF 場所1 == 位置_3F阳台
			RETURNF 1
		;地下室から
	CASE 位置_地下室
		;地下室走廊
		SIF 場所1 == 位置_地下室走廊
			RETURNF 1
		;大浴場から
	CASE 位置_大浴場
		;地下室走廊
		SIF 場所1 == 位置_地下室走廊
			RETURNF 1
		;湖北部から
	CASE 位置_雾之湖北部
		;正門
		SIF 場所1 == 位置_红魔馆正门
			RETURNF 1
		;湖南部
		SIF 場所1 == 位置_雾之湖南部
			RETURNF 1
		;森内部
		SIF 場所1 == 位置_魔法之森内部
			RETURNF 1
		;琪露诺的家から
	CASE 位置_琪露诺的家
		;湖南部
		SIF 場所1 == 位置_雾之湖南部
			RETURNF 1
		;大妖精的家から
	CASE 位置_大妖精的家
		;湖南部
		SIF 場所1 == 位置_雾之湖南部
			RETURNF 1
	CASE 位置_魔理沙的家
		;森内部
		SIF 場所1 == 位置_魔法之森内部
			RETURNF 1
		;お手洗いパッチ拡張
		;トイレはどこからも覗けない
		;屋外厕所から

	CASE 位置_屋外厕所
		;庭
		SIF 場所1 == 位置_院子
			RETURNF 1
		;守衛小屋
		SIF 場所1 == 位置_守卫小屋
			RETURNF 1
		;食堂
		SIF 場所1 == 位置_食堂
			RETURNF 1
		;1F厕所から
	CASE 位置_1F厕所
		;広間（階段）
		SIF 場所1 == 位置_大厅
			RETURNF 1
		;2F厕所から
	CASE 位置_2F厕所
		;二階廊下
		SIF 場所1 == 位置_二楼走廊
			RETURNF 1
		;3F阳台から
	CASE 位置_3F阳台
		;庭 + 見える
		SIF 場所1 == 位置_院子
			RETURNF 2
		;正門 + 見える
		SIF 場所1 == 位置_红魔馆正门
			RETURNF 2
		;蕾米莉亚私室
		SIF 場所1 == 位置_蕾米莉亚私室
			RETURNF 1

		;湖南部から
	CASE 位置_雾之湖南部
		;湖北部
		SIF 場所1 == 位置_雾之湖北部
			RETURNF 1
		;琪露诺的家
		SIF 場所1 == 位置_琪露诺的家
			RETURNF 1
		;大妖精的家
		SIF 場所1 == 位置_大妖精的家
			RETURNF 1
		;魔法之森内部から
	CASE 位置_魔法之森内部
		;湖北部
		SIF 場所1 == 位置_雾之湖北部
			RETURNF 1
		;魔理沙的家
		SIF 場所1 == 位置_魔理沙的家
			RETURNF 1
		;露米娅的家
		SIF 場所1 == 位置_露米娅的家
			RETURNF 1
		;爱丽丝的家
		SIF 場所1 == 位置_爱丽丝的家
			RETURNF 1
		;露米娅的家から
	CASE 位置_露米娅的家
		;森内部
		SIF 場所1 == 位置_魔法之森内部
			RETURNF 1
	CASE 位置_地下室走廊
		SIF 場所1 == 位置_地下室
			RETURNF 1
		SIF 場所1 == 位置_大浴場
			RETURNF 1
		SIF 場所1 == 位置_大厅
			RETURNF 1
		;博麗神社から
	CASE 位置_博麗神社
		;湖北部
		SIF 場所1 == 位置_雾之湖北部
			RETURNF 1
		;爱丽丝的家から
	CASE 位置_爱丽丝的家
		;森内部
		SIF 場所1 == 位置_魔法之森内部
			RETURNF 1
ENDSELECT