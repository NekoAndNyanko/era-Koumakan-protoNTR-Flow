;-------------------------------------------------
;ニューゲーム
;-------------------------------------------------
@EVENTFIRST
#DIM LCOUNT,2

[SKIPSTART]
ALIGNMENT CENTER
FOR LOCAL , 0 , 50
	CLEARLINE LINECOUNT
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	FOR LCOUNT, 0, 23
		PRINTBUTTON " " * 80 , "0"
		PRINTL
	NEXT
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 204 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	PRINTBUTTON " " * 23 + "　　　　　亲密" , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "、" , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 64 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "责任" , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "、" , "0"
	SETCOLOR 230 * MIN(LOCAL , 30) / 30 , 103 * MIN(LOCAL , 30) / 30 , 175 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "信任" , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "、" , "0"
	SETCOLOR 230 * MIN(LOCAL , 30) / 30 , 57 * MIN(LOCAL , 30) / 30 , 155 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "性爱" , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "　　　　　" + " " * 23 , "0"
	PRINTL
	PRINTL
	PRINTBUTTON " " * 23 + "　你认为其中哪三样是构成爱情的基本要素呢　" + " " * 23 , "0"
	PRINTL
	PRINTL
	PRINTBUTTON " " * 23 + "　　　　　答案是" , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 204 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "亲密" , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "、" , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 64 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "责任" , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "和" , "0"
	SETCOLOR 230 * MIN(LOCAL , 30) / 30 , 57 * MIN(LOCAL , 30) / 30 , 155 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "性爱" , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "　　　　　" + " " * 23 , "0"
	PRINTL
	PRINTL
	FOR LCOUNT, 0, 22
		PRINTBUTTON " " * 80 , 0
		PRINTL
	NEXT
	TWAIT 100, 0
NEXT
WAIT
FOR LOCAL , 0 , 50
	CLEARLINE LINECOUNT
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	FOR LCOUNT, 0, 23
		PRINTBUTTON " " * 80 , "0"
		PRINTL
	NEXT
	PRINTBUTTON " " * 23 + "心理学家斯腾伯格认为，一段浪漫的爱情只需要" + " " * 23 , "0"
	PRINTL
	PRINTL
	PRINTBUTTON " " * 23 + "　　无以复加的" , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 204 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "亲密" , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "，以及忘乎所以的" , "0"
	SETCOLOR 230 * MIN(LOCAL , 30) / 30 , 57 * MIN(LOCAL , 30) / 30 , 155 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "性爱　　" + " " * 23 , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	PRINTL
	PRINTL
	PRINTBUTTON " " * 23 + "　　　　　　　　　　——是的，那里不需要" , "0"
	SETCOLOR 230 * MIN(LOCAL , 30) / 30 , 103 * MIN(LOCAL , 30) / 30 , 175 * MIN(LOCAL , 30) / 30
	PRINTBUTTON "信任" + " " * 23 , "0"
	SETCOLOR 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30 , 255 * MIN(LOCAL , 30) / 30
	PRINTL
	PRINTL
	FOR LCOUNT, 0, 22
		PRINTBUTTON " " * 80 , 0
		PRINTL
	NEXT
	TWAIT 100, 0
NEXT
WAIT
CLEARLINE LINECOUNT
ALIGNMENT LEFT
[SKIPEND]

TARGET = 0
ASSI = 0

PBAND = 12

CALL DEFAULT_OPTION

;モード選択
$MODE_SELECT
PRINTL ★★请选择模式★★
PRINTL [0]START
PRINTL 
PRINTL 　※特别的选项(可多选)
IF GETBIT(FLAG:ゲームモード, 1)
	PRINT 　☆
ELSE
	PRINT 　　
ENDIF
PRINTL [1]扶她模式　　玩家和访问者以外全部变扶她

IF GETBIT(FLAG:ゲームモード, 2)
	PRINT 　☆
ELSE
	PRINT 　　
ENDIF
PRINTL [2]爆乳模式　　玩玩家和访问者以外全部变爆乳

IF GETBIT(FLAG:ゲームモード, 3)
	PRINT 　☆
ELSE
	PRINT 　　
ENDIF
PRINTL [3]精力的访问者　　访问者第一天就来访，并且每天都会出现

[SKIPSTART]
IF !FLAG:真实模式
	IF GETBIT(FLAG:ゲームモード, 4)
		PRINT 　☆
	ELSE
		PRINT 　　
	ENDIF
	PRINTL [4]NTR设定全部有效（建议不开启）　　NTR的相关选项全ON
ENDIF

IF FLAG:真实模式
	PRINT 　☆
ELSE
	PRINT 　　
ENDIF
PRINTFORML [5]真实模式（\@ GETBIT(FLAG:真实模式,0) ?ON#OFF\@） 　经验、素质等大量内容均不可见，一切都需要自己调查，让你两眼一抹黑的沉浸式体验（我就是要推荐你打开！快点！快点！）
[SKIPEND]

$INPUT_LOOP
INPUT

IF RESULT >= 1 && RESULT <= 3
	INVERTBIT FLAG:ゲームモード, RESULT
	GOTO MODE_SELECT
[SKIPSTART]
IF RESULT >= 1 && RESULT <= 4
	INVERTBIT FLAG:ゲームモード, RESULT
	GOTO MODE_SELECT
ELSEIF RESULT == 5
	FLAG:真实模式 = FLAG:真实模式 ? 0 # 1
	GOTO MODE_SELECT
[SKIPEND]
ELSEIF RESULT != 0
	GOTO INPUT_LOOP
ENDIF

[SKIPSTART]
PRINTL 要扮演谁吗？
PRINTL [0]不要（推荐）
SIF !FLAG:真实模式
	PRINTL [1]吼啊

$INPUT_LOOP_1
INPUT
IF RESULT == 0
[SKIPEND]
;去除扮演模式
CALL CUSTOM_CHARAMAKE(MASTER)
SIF HAS_PENIS(MASTER)
	MAXBASE:MASTER:5 = 1500
ADDCHARA 1
ADDCHARA 2
ADDCHARA 3
ADDCHARA 4
ADDCHARA 5
ADDCHARA 6
ADDCHARA 7
ADDCHARA 8
ADDCHARA 9
ADDCHARA 10
ADDCHARA 11
ADDCHARA 12
ADDCHARA 13
[SKIPSTART]
ELSEIF RESULT == 1
	CALL REVERSEMODE_1
ELSE
	GOTO INPUT_LOOP_1
ENDIF
[SKIPEND]

IF GETBIT(FLAG:ゲームモード, 1)
	FOR LOCAL, 1, CHARANUM
		TALENT:LOCAL:性別 = 3
	NEXT
ENDIF
IF GETBIT(FLAG:ゲームモード, 2)
	FOR LOCAL, 1, CHARANUM
		TALENT:LOCAL:胸部尺寸 = 2
	NEXT
ENDIF
IF GETBIT(FLAG:ゲームモード, 4)
	INVERTBIT FLAG:ＮＴＲパッチ設定, 1
	INVERTBIT FLAG:ＮＴＲパッチ設定, 3
	INVERTBIT FLAG:ＮＴＲパッチ設定, 4
	INVERTBIT FLAG:ＮＴＲパッチ設定, 5
	INVERTBIT FLAG:ＮＴＲパッチ設定, 6
	INVERTBIT FLAG:ＮＴＲパッチ設定, 7
	INVERTBIT FLAG:ＮＴＲパッチ設定, 8
	INVERTBIT FLAG:ＮＴＲパッチ設定, 24
	INVERTBIT FLAG:ＮＴＲパッチ設定, 25
	INVERTBIT FLAG:ＮＴＲパッチ設定, 26
	INVERTBIT FLAG:ＮＴＲパッチ設定, 31
	INVERTBIT FLAG:ＮＴＲパッチ設定, 32
	FOR LOCAL, 1, CHARANUM
		CALL NTR_SET_STAYOUT_MAXIMUM(LOCAL, 0)
	NEXT
ELSE
	;//默认推荐的设置
	FLAG:Flow版本 = 1
	SETBIT FLAG:ＮＴＲパッチ設定, 1
	SETBIT FLAG:ＮＴＲパッチ設定, 3
	SETBIT FLAG:ＮＴＲパッチ設定, 5
	;SETBIT FLAG:ＮＴＲパッチ設定, 6	;把角色带回家
	SETBIT FLAG:ＮＴＲパッチ設定,7
	SETBIT FLAG:ＮＴＲパッチ設定, 24
	SETBIT FLAG:ＮＴＲパッチ設定, 27
	SETBIT FLAG:ＮＴＲパッチ設定, 31
	SETBIT FLAG:ＮＴＲパッチ設定, 32
	FOR LOCAL, 1, CHARANUM
		CALL NTR_SET_STAYOUT_MAXIMUM(LOCAL, 0)
	NEXT
ENDIF
[SKIPSTART]
IF FLAG:真实模式
	SETBIT FLAG:ＮＴＲパッチ設定, 0
	SETBIT FLAG:ＮＴＲパッチ設定, 1
	SETBIT FLAG:ＮＴＲパッチ設定, 3
	SETBIT FLAG:ＮＴＲパッチ設定, 4
	SETBIT FLAG:ＮＴＲパッチ設定, 5
	SETBIT FLAG:ＮＴＲパッチ設定, 6
	SETBIT FLAG:ＮＴＲパッチ設定, 7
	SETBIT FLAG:ＮＴＲパッチ設定, 8
	SETBIT FLAG:ＮＴＲパッチ設定, 9
	SETBIT FLAG:ＮＴＲパッチ設定, 24
	SETBIT FLAG:ＮＴＲパッチ設定, 25
	SETBIT FLAG:ＮＴＲパッチ設定, 26
	SETBIT FLAG:ＮＴＲパッチ設定, 27
	SETBIT FLAG:ＮＴＲパッチ設定, 30
	CLEARBIT FLAG:ＮＴＲパッチ設定, 31
	CLEARBIT FLAG:ＮＴＲパッチ設定, 32
	FOR LOCAL, 1, CHARANUM
		CALL NTR_SET_STAYOUT_MAXIMUM(LOCAL, 0)
	NEXT
ENDIF
[SKIPEND]

;//默认设置
FLAG:AA表示 = 1
FLAG:画像表示 = 3
FLAG:图像_插图显示 = 1
FLAG:图像_动画 = 2
FLAG:素質変動onoff = 1
FLAG:口上颜色 = 1
SETBIT FLAG:簡易調教模式,1

SAVESTR:10 = /

;キャラカスタム選択
CALL CHARA_CUSTUM
SIF HAS_PENIS(MASTER)
	MAXBASE:MASTER:5 = 1500

;全員处女モード選択
CALL VIRGIN_CUSTOM
;设置处女、童贞的CFLAG:初始无接吻经验 = 1
CALL GEME_START_FIRSTKISS_FIX
;◆ショートカットモード選択
CALL SHORT_CUT_MODE
;◆◆

FOR LOCAL,0,CHARANUM
	;開始位置
	CFLAG:LOCAL:当前位置 = CFLAG:LOCAL:311
	;服装
	CALL CLOTHES_SETTING(LOCAL,1)
NEXT

PRINTW 虽然我觉得这没什么意义，而且大概没人在意，但姑且还是先说一下，这个游戏21天1个月、6个月1年，感兴趣也可以根据幻想乡的纪年法看看这个游戏设定的时间线是现实中的哪一年。（为什么要加这一句呢？开场剧情没做好导致的）

;起床時間
CFLAG:MASTER:312 = 420
CFLAG:MASTER:睡眠 = 1
DAY = 1
MONEY = 1000
BEGIN SHOP

@EVENTLOAD
CALL VERSION_UP

