;-------------------------------------------------------------------------------
;密室度取得
;戻り値…密室度	;0:堂々 1:普通 2:個室 3:私室)
@GET_ROOM_SECURITY(位置)
#FUNCTION
#DIM 位置
#DIM 密室度
密室度 = 0
IF 位置所在区域(位置) == 区域_红魔馆
	IF GROUPMATCH(位置,位置_红魔馆_正门,位置_红魔馆_大厅,位置_红魔馆_餐厅,位置_红魔馆_二楼楼梯间,位置_红魔馆_三楼阳台,位置_红魔馆_会客厅,位置_红魔馆_二楼阳台)
		密室度 = 0
	ELSEIF GROUPMATCH(位置,位置_红魔馆_二楼走廊,位置_红魔馆_妖精女仆办公室,位置_红魔馆_玩家房间,位置_红魔馆_大浴场,位置_红魔馆_地下室走廊,位置_红魔馆_更衣室)
		密室度 = 1
	ELSEIF GROUPMATCH(位置,位置_红魔馆_大图书馆,位置_红魔馆_厨房,位置_红魔馆_仓库,位置_红魔馆_后院,位置_红魔馆_屋外厕所,位置_红魔馆_一楼厕所,位置_红魔馆_二楼厕所)
		密室度 = 2
	ELSEIF GROUPMATCH(位置,位置_红魔馆_帕秋莉私室,位置_红魔馆_小恶魔私室,位置_红魔馆_守卫小屋,位置_红魔馆_咲夜私室,位置_红魔馆_蕾米莉亚私室,位置_红魔馆_地下室,位置_红魔馆_地下房间甲,位置_红魔馆_地下房间乙)
		密室度 = 3
	ENDIF
ELSEIF 位置所在区域(位置) == 区域_雾之湖
	IF GROUPMATCH(位置,位置_雾之湖北部,位置_雾之湖南部)
		密室度 = 0
	; ELSEIF GROUPMATCH(位置,)
	; 	密室度 = 1
	; ELSEIF GROUPMATCH(位置,)
	; 	密室度 = 2
	ELSEIF GROUPMATCH(位置,位置_琪露诺的家,位置_大妖精的家)
		密室度 = 3
	ENDIF
ELSEIF 位置所在区域(位置) == 区域_魔法之森
	IF GROUPMATCH(位置,0)
		密室度 = 0
	ELSEIF GROUPMATCH(位置,位置_魔法之森内部)
		密室度 = 1
	; ELSEIF GROUPMATCH(位置,)
	; 	密室度 = 2
	ELSEIF GROUPMATCH(位置,位置_魔理沙的家,位置_露米娅的家,位置_爱丽丝的家)
		密室度 = 3
	ENDIF
ENDIF
[SKIPSTART]
SELECTCASE 位置
	; 光明正大地した位置
	CASE 位置_红魔馆_正门, 位置_红魔馆_大厅, 位置_红魔馆_餐厅, 位置_红魔馆_二楼楼梯间, 位置_红魔馆_妖精女仆办公室, 位置_红魔馆_三楼阳台
		密室度 = 0
	;あまり光明正大地していない位置(正門, 広間, 食堂, 二階踊り場以外. 庭と湖はロマン)なら密室度:3を1に
	CASE 位置_红魔馆_二楼走廊, 位置_红魔馆_玩家房间, 位置_红魔馆_大浴场, 位置_红魔馆_地下室走廊, 位置_魔法之森内部
		密室度 = 1
	;さらに目立たない位置(死角のある位置や個室等…主観ですが)なら密室度:3を2に
	CASE 位置_红魔馆_大图书馆, 位置_红魔馆_厨房, 位置_红魔馆_仓库, 位置_红魔馆_后院, 位置_雾之湖北部 , 位置_雾之湖南部
		密室度 = 2
	; 個室
	CASE 位置_红魔馆_帕秋莉私室, 位置_红魔馆_小恶魔私室, 位置_红魔馆_守卫小屋, 位置_红魔馆_咲夜私室, 位置_红魔馆_蕾米莉亚私室, 位置_红魔馆_地下室
		密室度 = 3
	CASE 位置_琪露诺的家, 位置_大妖精的家, 位置_魔理沙的家, 位置_露米娅的家, 位置_爱丽丝的家
		密室度 = 3
	; トイレ
	CASE 位置_红魔馆_屋外厕所, 位置_红魔馆_一楼厕所, 位置_红魔馆_二楼厕所
		密室度 = 2
	; Lv1が少ない ;-(
ENDSELECT
[SKIPEND]
RETURNF 密室度