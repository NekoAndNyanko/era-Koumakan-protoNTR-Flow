;原名：次の経由地
;从某地出发只有一个出口，那么则将这个唯一出口先行返回而无需计算。
;如：2F厕所只和二楼走廊相连，那么从2F厕所去任何地方就一定会结果二楼走廊，则调用此方法先将二楼走廊设定为第一个途经点。
;又如：三楼阳台是地图的边缘，它只和蕾米莉亚私室相连，因此“当前途经地”为三楼阳台时，返回蕾米莉亚私室，说白了就是在这里写每个死胡同的唯一出口。
;場所=>OPTIONAL<場所>
@特殊途经地快速计算(当前途经地)
#FUNCTION
#DIM 当前途经地
;红魔馆----------------------------------------------------------------------------------------------------
;红魔馆一楼--------------------
IF GROUPMATCH(当前途经地, 位置_红魔馆_仓库, 位置_红魔馆_屋外厕所)
	RETURNF 位置_红魔馆_后院
ELSEIF GROUPMATCH(当前途经地, 位置_红魔馆_帕秋莉私室, 位置_红魔馆_小恶魔私室)
	RETURNF 位置_红魔馆_大图书馆
;红魔馆二楼--------------------
ELSEIF GROUPMATCH(当前途经地, 位置_红魔馆_咲夜私室, 位置_红魔馆_妖精女仆办公室, 位置_红魔馆_玩家房间, 位置_红魔馆_蕾米莉亚私室, 位置_红魔馆_二楼厕所, 位置_红魔馆_二楼阳台)
	RETURNF 位置_红魔馆_二楼走廊
;红魔馆三楼--------------------
ELSEIF 当前途经地 == 位置_红魔馆_三楼阳台
	RETURNF 位置_红魔馆_蕾米莉亚私室
;红魔馆地下--------------------
ELSEIF GROUPMATCH(当前途经地, 位置_红魔馆_地下室, 位置_红魔馆_地下房间甲, 位置_红魔馆_地下房间乙)
	RETURNF 位置_红魔馆_地下室走廊
ELSEIF 当前途经地 == 位置_红魔馆_大浴场
	RETURNF 位置_红魔馆_更衣室
;雾之湖----------------------------------------------------------------------------------------------------
ELSEIF GROUPMATCH(当前途经地, 位置_琪露诺的家, 位置_大妖精的家)
	RETURNF 位置_雾之湖南部
;魔法之森----------------------------------------------------------------------------------------------------
ELSEIF GROUPMATCH(当前途经地, 位置_魔理沙的家, 位置_露米娅的家, 位置_爱丽丝的家)
	RETURNF 位置_魔法之森内部
;其它----------------------------------------------------------------------------------------------------
ELSEIF 当前途经地 == 位置_博麗神社
	RETURNF 位置_雾之湖北部
ELSE
	RETURNF -1
ENDIF
[SKIPSTART]
SELECTCASE 当前途经地
	;厨房からは食堂のみ
	CASE 位置_红魔馆_厨房
		RETURNF 位置_红魔馆_餐厅
	;納屋からは庭のみ
	CASE 位置_红魔馆_仓库
		RETURNF 位置_红魔馆_后院
	;パチェかこぁの部屋からは図書室のみ
	CASE 位置_红魔馆_帕秋莉私室, 位置_红魔馆_小恶魔私室
		RETURNF 位置_红魔馆_大图书馆
	;咲夜の部屋からは二階廊下のみ
	;妖精メイド詰所からは二階廊下のみ
	;あなたの部屋からは二階廊下のみ
	CASE 位置_红魔馆_咲夜私室, 位置_红魔馆_玩家房间, 位置_红魔馆_妖精女仆办公室
		RETURNF 位置_红魔馆_二楼走廊
	;地下室からは地下室走廊のみ
	;大浴場からは地下室走廊のみ
	CASE 位置_红魔馆_地下室, 位置_红魔馆_大浴场
		RETURNF 位置_红魔馆_地下室走廊
	;琪露诺的家からは湖南部のみ
	;大妖精的家からは湖南部のみ
	CASE 位置_琪露诺的家, 位置_大妖精的家
		RETURNF 位置_雾之湖南部
	;野外トイレからは庭のみ
	CASE 位置_红魔馆_屋外厕所
		RETURNF 位置_红魔馆_后院
	;1F厕所からは広間のみ
	CASE 位置_红魔馆_一楼厕所
		RETURNF 位置_红魔馆_大厅
	;2F厕所からは踊り場のみ
	CASE 位置_红魔馆_二楼厕所
		RETURNF 位置_红魔馆_二楼走廊
	;魔理沙的家からは魔法の森のみ
	CASE 位置_魔理沙的家
		RETURNF 位置_魔法之森内部
	;露米娅的家からは魔法の森のみ
	CASE 位置_露米娅的家
		RETURNF 位置_魔法之森内部
	;爱丽丝的家からは魔法の森のみ
	CASE 位置_爱丽丝的家
		RETURNF 位置_魔法之森内部
	;博麗神社からは湖北部のみ
	CASE 位置_博麗神社
		RETURNF 位置_雾之湖北部
	;テラスの場合レミの部屋へ入れないなら庭へ飛び降りる
	CASE 位置_红魔馆_三楼阳台
		IF isLocked(位置_红魔馆_蕾米莉亚私室) && !canUnLock(MASTER, 位置_红魔馆_蕾米莉亚私室)
			RETURNF 位置_红魔馆_后院
		ELSE
			RETURNF 位置_红魔馆_蕾米莉亚私室
		ENDIF
ENDSELECT
RETURNF -1
[SKIPEND]