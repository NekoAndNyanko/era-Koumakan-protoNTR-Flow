;1X = 目击
;├─ 1 = 近距离无障碍
;├─ 2 = 近距离有障碍（隔窗等）
;├─ 3 = 远距离
;├─ 13 = 直视/远眺物体阻碍（障碍物使得无法分辨）
;├─ 14 = 隔窗无障碍（如只能看到舞动的足部等）
;├─ 15 = 隔窗有障碍（如窗帘后的人影等）
;├─ 16 = 槅门无障碍
;├─ 
;├─ 
;eavesdrop - 偷听
@canPeeping(所在地,目标地)
#FUNCTION
#DIM 所在地
#DIM 目标地
SELECTCASE 所在地
	CASE 位置_红魔馆_正门
		IF GROUPMATCH(目标地,位置_红魔馆_大厅,位置_红魔馆_守卫小屋,位置_雾之湖_湖北部,位置_红魔馆_二楼楼梯间,位置_红魔馆_三楼阳台,位置_红魔馆_咲夜私室,位置_红魔馆_妖精女仆办公室)
			RETURNF 1
		ELSE
			RETURNF 0
		ENDIF
	CASE 位置_红魔馆_大厅
		IF GROUPMATCH(目标地,位置_红魔馆_正门,位置_红魔馆_餐厅,位置_红魔馆_大图书馆,位置_红魔馆_厨房,位置_红魔馆_二楼楼梯间,位置_红魔馆_二楼走廊,位置_红魔馆_一楼厕所,位置_红魔馆_地下室,位置_红魔馆_会客厅)
			RETURNF 1
		ELSE
			RETURNF 0
		ENDIF
	CASE 位置_红魔馆_餐厅
		IF GROUPMATCH(目标地,位置_红魔馆_大厅,位置_红魔馆_后院,位置_红魔馆_屋外厕所)
			RETURNF 1
		ELSE
			RETURNF 0
		ENDIF
	CASE 位置_红魔馆_大图书馆
		IF GROUPMATCH(目标地,位置_红魔馆_大厅,位置_红魔馆_帕秋莉私室,位置_红魔馆_小恶魔私室)
			RETURNF 1
		ELSE
			RETURNF 0
		ENDIF
	CASE 位置_红魔馆_厨房
		IF GROUPMATCH(目标地,位置_红魔馆_大厅,位置_红魔馆_餐厅,位置_红魔馆_小恶魔私室,位置_红魔馆_后院,位置_红魔馆_蕾米莉亚私室)
			RETURNF 1
		ELSE
			RETURNF 0
		ENDIF
	CASE 位置_红魔馆_仓库
		IF GROUPMATCH(目标地,位置_红魔馆_后院,位置_红魔馆_屋外厕所)
			RETURNF 1
		ELSE
			RETURNF 0
		ENDIF
	CASE 位置_红魔馆_帕秋莉私室
		IF GROUPMATCH(目标地,位置_红魔馆_大图书馆,位置_红魔馆_仓库,位置_红魔馆_后院)
			RETURNF 1
		ELSE
			RETURNF 0
		ENDIF
	CASE 位置_红魔馆_小恶魔私室
		IF GROUPMATCH(目标地,位置_红魔馆_大图书馆,位置_红魔馆_后院)
			RETURNF 1
		ELSE
			RETURNF 0
		ENDIF
	CASE 位置_红魔馆_守卫小屋
		IF GROUPMATCH(目标地,位置_红魔馆_咲夜私室,位置_红魔馆_蕾米莉亚私室,位置_红魔馆_屋外厕所,位置_红魔馆_三楼阳台)
			RETURNF 1
		ELSE
			RETURNF 0
		ENDIF
	CASE 位置_红魔馆_后院
		IF GROUPMATCH(目标地,位置_红魔馆_餐厅,位置_红魔馆_仓库,位置_红魔馆_帕秋莉私室,位置_红魔馆_小恶魔私室,位置_红魔馆_玩家房间,位置_红魔馆_屋外厕所,位置_红魔馆_二楼厕所)
			RETURNF 1
		ELSE
			RETURNF 0
		ENDIF
	CASE 位置_红魔馆_二楼楼梯间
		IF GROUPMATCH(目标地,0)
			RETURNF 1
		ELSE
			RETURNF 0
		ENDIF
	CASE 位置_红魔馆_二楼走廊
		;踊り場 + 見える
		SIF 目标地 == 位置_红魔馆_二楼楼梯间
			RETURNF 2
		;咲夜私室
		SIF 目标地 == 位置_红魔馆_咲夜私室
			RETURNF 1
		;妖精メイド詰所
		SIF 目标地 == 位置_红魔馆_妖精女仆办公室
			RETURNF 1
		;玩家房间
		SIF 目标地 == 位置_红魔馆_玩家房间
			RETURNF 1
		;2F厕所
		SIF 目标地 == 位置_红魔馆_二楼厕所
			RETURNF 1
		;咲夜私室から
	CASE 位置_红魔馆_咲夜私室
		;庭 + 見える
		SIF 目标地 == 位置_红魔馆_后院
			RETURNF 2
		;二階廊下
		SIF 目标地 == 位置_红魔馆_二楼走廊
			RETURNF 1
		;妖精メイド詰所から
	CASE 位置_红魔馆_妖精女仆办公室
		;庭 + 見える
		SIF 目标地 == 位置_红魔馆_后院
			RETURNF 2
		;二階廊下
		SIF 目标地 == 位置_红魔馆_二楼走廊
			RETURNF 1
		;玩家房间から
	CASE 位置_红魔馆_玩家房间
		;庭 + 見える
		SIF 目标地 == 位置_红魔馆_后院
			RETURNF 2
		;二階廊下
		SIF 目标地 == 位置_红魔馆_二楼走廊
			RETURNF 1
		;蕾米莉亚私室から
	CASE 位置_红魔馆_蕾米莉亚私室
		;庭 + 見える
		SIF 目标地 == 位置_红魔馆_后院
			RETURNF 2
		;踊り場
		SIF 目标地 == 位置_红魔馆_二楼楼梯间
			RETURNF 1
		;3F阳台
		SIF 目标地 == 位置_红魔馆_三楼阳台
			RETURNF 1
		;地下室から
	CASE 位置_红魔馆_地下室
		;広間（階段）
		SIF 目标地 == 位置_红魔馆_大厅
			RETURNF 1
		;大浴場から
	CASE 位置_红魔馆_大浴场
		;広間（階段）
		SIF 目标地 == 位置_红魔馆_大厅
			RETURNF 1
		;湖北部から
	CASE 位置_雾之湖_湖北部
		;正門
		SIF 目标地 == 位置_红魔馆_正门
			RETURNF 1
		;湖南部
		SIF 目标地 == 位置_雾之湖_湖南部
			RETURNF 1
		;森内部
		SIF 目标地 == 位置_魔法之森_森林岔路
			RETURNF 1
		;琪露诺的家から
	CASE 位置_雾之湖_琪露诺的家
		;湖南部
		SIF 目标地 == 位置_雾之湖_湖南部
			RETURNF 1
		;大妖精的家から
	CASE 位置_雾之湖_大妖精的家
		;湖南部
		SIF 目标地 == 位置_雾之湖_湖南部
			RETURNF 1
	CASE 位置_魔法之森_雾雨魔法店
		;森内部
		SIF 目标地 == 位置_魔法之森_森林岔路
			RETURNF 1
		;お手洗いパッチ拡張
		;トイレはどこからも覗けない
		;屋外厕所から

	CASE 位置_红魔馆_屋外厕所
		;庭
		SIF 目标地 == 位置_红魔馆_后院
			RETURNF 1
		;守衛小屋
		SIF 目标地 == 位置_红魔馆_守卫小屋
			RETURNF 1
		;食堂
		SIF 目标地 == 位置_红魔馆_餐厅
			RETURNF 1
		;1F厕所から
	CASE 位置_红魔馆_一楼厕所
		;広間（階段）
		SIF 目标地 == 位置_红魔馆_大厅
			RETURNF 1
		;2F厕所から
	CASE 位置_红魔馆_二楼厕所
		;二階廊下
		SIF 目标地 == 位置_红魔馆_二楼走廊
			RETURNF 1
		;3F阳台から
	CASE 位置_红魔馆_三楼阳台
		;庭 + 見える
		SIF 目标地 == 位置_红魔馆_后院
			RETURNF 2
		;正門 + 見える
		SIF 目标地 == 位置_红魔馆_正门
			RETURNF 2
		;蕾米莉亚私室
		SIF 目标地 == 位置_红魔馆_蕾米莉亚私室
			RETURNF 1

		;湖南部から
	CASE 位置_雾之湖_湖南部
		;湖北部
		SIF 目标地 == 位置_雾之湖_湖北部
			RETURNF 1
		;琪露诺的家
		SIF 目标地 == 位置_雾之湖_琪露诺的家
			RETURNF 1
		;大妖精的家
		SIF 目标地 == 位置_雾之湖_大妖精的家
			RETURNF 1
		;魔法之森内部から
	CASE 位置_魔法之森_森林岔路
		;湖北部
		SIF 目标地 == 位置_雾之湖_湖北部
			RETURNF 1
		;魔理沙的家
		SIF 目标地 == 位置_魔法之森_雾雨魔法店
			RETURNF 1
		;露米娅的家
		SIF 目标地 == 位置_魔法之森_露米娅的树屋
			RETURNF 1
		;爱丽丝的家
		SIF 目标地 == 位置_魔法之森_爱丽丝的家
			RETURNF 1
		;露米娅的家から
	CASE 位置_魔法之森_露米娅的树屋
		;森内部
		SIF 目标地 == 位置_魔法之森_森林岔路
			RETURNF 1
		;博麗神社から
	CASE 位置_博麗神社
		;雾之湖南部
		SIF 目标地 == 位置_雾之湖_湖南部
			RETURNF 1
		;爱丽丝的家から
	CASE 位置_魔法之森_爱丽丝的家
		;森内部
		SIF 目标地 == 位置_魔法之森_森林岔路
			RETURNF 1
ENDSELECT