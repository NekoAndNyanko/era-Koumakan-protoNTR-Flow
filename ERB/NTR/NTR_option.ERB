;-------------------------------------------------------------------------------
;NTRパッチ関係オプション設定モジュール
;
;設定関数と設定状態の取得関数群
;-------------------------------------------------------------------------------

;-------------------------------------------------------------------------------
;FIXME:関数の説明を書いてください
;@return 1:xxx,0:xxx
@NTR_OPTION
SETBIT FLAG:ＮＴＲパッチ設定,0
SETBIT FLAG:ＮＴＲパッチ設定,3
$INPUT_LOOP_NTR_OPTION_TOP
PRINTFORML 
PRINTFORML NTR各项设定
IF !FLAG:真实模式
	PRINTFORML [1]  - %NTR_NAME(0)%吸收角色对%CALLNAME:MASTER%的好感度（建议打开）%"	" * 2%\@ GETBIT(FLAG:ＮＴＲパッチ設定,1) ? [是] # [否] \@
	;PRINTFORML [2] - [恋慕] 等素质消去 \@ GETBIT(FLAG:ＮＴＲパッチ設定,2) ? [是] # [否] \@
	;PRINTFORML [3] - %NTR_NAME(0)%家的长期滞在 \@ GETBIT(FLAG:ＮＴＲパッチ設定,3) ? [是] # [否] \@
	PRINTFORML [4]  - %NTR_NAME(0)%会监禁%CALLNAME:MASTER%%"	" * 6%\@ GETBIT(FLAG:ＮＴＲパッチ設定,4) ? [是] # [否] \@
ENDIF
PRINTFORML [5]  - 角色会怀上%NTR_NAME(0)%的孩子%"	" * 5%\@ GETBIT(FLAG:ＮＴＲパッチ設定,5) ? [是] # [否] \@
PRINTFORML [6]  - %NTR_NAME(0)%会把角色带回家（建议关闭）%"	" * 3%\@ GETBIT(FLAG:ＮＴＲパッチ設定,6) ? [是] # [否] \@
PRINTFORML [7]  - %NTR_NAME(0)%是否出现（建议打开）%"	" * 4%\@ GETBIT(FLAG:ＮＴＲパッチ設定,7) ? [是] # [否] \@
PRINTFORML [8]  - %NTR_NAME(0)%会对角色进行野外調教（建议关闭）%"	" * 3%\@ GETBIT(FLAG:ＮＴＲパッチ設定,8) ? [是] # [否] \@
PRINTFORML [9]  - %NTR_NAME(0)%进行睡奸（建议关闭）%"	" * 4%\@ GETBIT(FLAG:ＮＴＲパッチ設定,9) ? [是] # [否] \@
PRINTFORML [10] - 角色与%NTR_NAME(0)%相爱%"	" * 6%\@ FLAG:Flow版本 ? [是] # [否] \@
PRINTFORML [24] - %NTR_NAME(0)%仅调教[恋慕]角色（建议打开）%"	" * 3%\@ GETBIT(FLAG:ＮＴＲパッチ設定,24) ? [是] # [否] \@
PRINTFORML [25] - 处女肛门調教（建议关闭）%"	" * 5%\@ GETBIT(FLAG:ＮＴＲパッチ設定,25) ? [是] # [否] \@
; IF !FLAG:Flow版本
; 	PRINTFORML [26] - 具有[亲爱]素质的角色在战败后被迫成为[公众便所]%"	" * 2% \@ GETBIT(FLAG:ＮＴＲパッチ設定,26) ? [是] # [否] \@
; ENDIF
IF !FLAG:真实模式
	PRINTFORML [27] - 偷情模式（建议打开）%"	" * 5%\@ GETBIT(FLAG:ＮＴＲパッチ設定,27) ? [是] # [否] \@
	PRINTFORML [30] - 角色被发现出轨后逃避见面%"	" * 5%\@ GETBIT(FLAG:ＮＴＲパッチ設定,30) ? [是] # [否] \@
	PRINTFORML [31] - 显示%NTR_NAME(0)%的位置%"	" * 6%\@ GETBIT(FLAG:ＮＴＲパッチ設定,31) ? [是] # [否] \@
	PRINTFORML [32] - 显示%NTR_NAME(0)%的活动%"	" * 6%\@ GETBIT(FLAG:ＮＴＲパッチ設定,32) ? [是] # [否] \@
ENDIF
PRINTFORML [100]- 返回
$INPUT_LOOP_NTR_OPTION
INPUT
IF RESULT == 1
	PRINTFORML 角色与%NTR_NAME(0)%的互动会吸收角色对%CALLNAME:MASTER%的好感度？
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_1
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,1
		PRINTFORMW 好感度会被吸收
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,1
		PRINTFORMW 好感度不会被吸收
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_1
	ENDIF
[SKIPSTART]
	;//此项已无效
	ELSEIF RESULT == 2
		PRINTFORML [恋慕] 等素质会被消去？
		PRINTFORML [0] 打开
		PRINTFORML [1] 关闭
		$INPUT_LOOP_NTR_OPTION_2
		INPUT
		IF RESULT == 0
			SETBIT FLAG:ＮＴＲパッチ設定,2
			PRINTFORMW 素质会被消去
			GOTO INPUT_LOOP_NTR_OPTION_TOP
		ELSEIF RESULT == 1
			CLEARBIT FLAG:ＮＴＲパッチ設定,2
			PRINTFORMW 素质不会被消去
			GOTO INPUT_LOOP_NTR_OPTION_TOP
		ELSE
			GOTO INPUT_LOOP_NTR_OPTION_2
		ENDIF
[SKIPEND]
ELSEIF RESULT == 3
	GOTO INPUT_LOOP_NTR_OPTION_TOP
	PRINTFORML 住民在%NTR_NAME(0)%家的长期滞在有效？
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_3
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,3
		PRINTFORMW 长期滞在有效
		PRINTFORML 
		$INPUT_LOOP_NTR_OPTION_3_0
		FOR LOCAL,1,CHARANUM
			PRINTFORML [{LOCAL,3}] - %CALLNAME:LOCAL% {NTR_GET_STAYOUT_MAXIMUM(LOCAL)}日
		NEXT
		PRINTFORML [999] - 返回
		$INPUT_LOOP_NTR_OPTION_3_1
		INPUT
		IF 0 < RESULT && RESULT <= CHARANUM
			LOCAL = RESULT
			PRINTFORML 最大滞在日数？(0以下は翌朝帰り, 最大7日)
			INPUT
			CALL NTR_SET_STAYOUT_MAXIMUM(LOCAL,LIMIT(RESULT,0,7))
			GOTO INPUT_LOOP_NTR_OPTION_3_0
		ELSEIF RESULT == 999
			GOTO INPUT_LOOP_NTR_OPTION_TOP
		ELSE
			GOTO INPUT_LOOP_NTR_OPTION_3_1
		ENDIF
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,3
		PRINTFORMW 长期滞在无效
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_3
	ENDIF
ELSEIF RESULT == 4
	PRINTFORML "%CALLNAME:MASTER%"会被%NTR_NAME(0)%打包带回家监禁？
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_4
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,4
		PRINTFORMW 会被打包带回家监禁
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,4
		PRINTFORMW 不会被打包带回家监禁
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_4
	ENDIF
ELSEIF RESULT == 5
	PRINTFORML 使%NTR_NAME(0)%的精液可以导致妊娠(仅妊娠补丁启用时有效，即禁止妊娠为关闭时)
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_5
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,5
		PRINTFORMW 会导致妊娠
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,5
		PRINTFORMW 不会导致妊娠
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_5
	ENDIF
ELSEIF RESULT == 6
	PRINTFORML 允许%NTR_NAME(0)%把住人带回家吗？
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_6
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,6
		PRINTFORMW 允许带回家
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,6
		PRINTFORMW 不允许带回家
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_6
	ENDIF
ELSEIF RESULT == 7
	PRINTFORML %NTR_NAME(0)%会来访吗？
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_7
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,7
		PRINTFORMW %NTR_NAME(0)%会来访
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,7
		PRINTFORMW %NTR_NAME(0)%不会来访
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_7
	ENDIF
ELSEIF RESULT == 8 && !FLAG:Flow版本
	PRINTFORML 允许%NTR_NAME(0)%对住人进行野外调教吗？
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_8
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,8
		PRINTFORMW 允许%NTR_NAME(0)%对住人进行野外调教
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,8
		PRINTFORMW 不允许%NTR_NAME(0)%对住人进行野外调教
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_8
	ENDIF
ELSEIF RESULT == 9  && !FLAG:Flow版本
	PRINTFORML 允许%NTR_NAME(0)%对住人进行睡奸吗？
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_9
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,9
		PRINTFORMW 允许%NTR_NAME(0)%对住人进行睡奸
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,9
		PRINTFORMW 不允许%NTR_NAME(0)%对住人进行睡奸
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_9
	ENDIF
ELSEIF RESULT == 10
	PRINTFORML 此开关使得居民在NTR后依然与主人公保持「恋人」关系
	PRINTFORML 并且尽可能地隐藏与%NTR_NAME(0)%关系，即使已经不再爱%CALLNAME:MASTER%。
	PRINTFORML 与此同时，「公共厕所」「浮気公認」等性癖以及与%CALLNAME:MASTER%和%NTR_NAME(0)%以外的男人发生关系的桥段也会被屏蔽。
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_10
	INPUT
	IF RESULT == 0
		FLAG:Flow版本 = 1
		;清除不兼容的设置
		CLEARBIT FLAG:ＮＴＲパッチ設定,8
		CLEARBIT FLAG:ＮＴＲパッチ設定,9
		CLEARBIT FLAG:ＮＴＲパッチ設定,25
		CLEARBIT FLAG:ＮＴＲパッチ設定,26
		CLEARBIT FLAG:ＮＴＲパッチ設定,30
		PRINTFORMW 已经打开
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		FLAG:Flow版本 = 0
		PRINTFORMW 已经关闭
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_10
	ENDIF
ELSEIF RESULT == 24
	PRINTFORML 只有取得恋慕的住人才会被NTR？
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_24
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,24
		PRINTFORMW %NTR_NAME(0)%只与有[恋慕]或[NTR]的对象互动
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,24
		PRINTFORMW %NTR_NAME(0)%会对所有住人说骚话
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_24
	ENDIF
ELSEIF RESULT == 25
	PRINTFORML %NTR_NAME(0)%不会夺取住人的处女，转而进行肛门调教？但是如果开启了可以被带回家，就算是ON也没有用
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_25
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,25
		PRINTFORMW %NTR_NAME(0)%不会夺取住人的处女
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,25
		PRINTFORMW %NTR_NAME(0)%会夺取住人的处女
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_25
	ENDIF
	;NTR和姦
ELSEIF RESULT == 27
	PRINTFORML 通过调整算法，减少%NTR_NAME(0)%在低屈服度直接强奸的情况，使角色与%NTR_NAME(0)%看起来更像是偷情。
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_27
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,27
		PRINTFORML 现在需要有一定的“感情基础”（屈服度），%NTR_NAME(0)%才会进行本番。
		; PRINTFORMW (野外調教、睡姦关闭の設定を推奨します)
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,27
		PRINTFORMW 现在只要%NTR_NAME(0)%连续进行调教，就有可能直接进入本番环节。
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_27
	ENDIF
	;浮気発覚回避逃避
ELSEIF RESULT == 30 && !FLAG:Flow版本
	PRINTFORML 住人会因为害怕发现外遇而逃跑吗？
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_30
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,30
		PRINTFORMW 会逃
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,30
		PRINTFORMW 不会逃
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_30
	ENDIF
	;訪問者居場所筒抜け
ELSEIF RESULT == 31
	PRINTFORML 能知道%NTR_NAME(0)%在什么地方吗？
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_31
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,31
		PRINTFORMW 能知道%NTR_NAME(0)%在什么地方
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,31
		PRINTFORMW 不能知道%NTR_NAME(0)%在什么地方
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_31
	ENDIF
	;筒抜けモード
ELSEIF RESULT == 32
	PRINTFORML %NTR_NAME(0)%的行动情报
	PRINTFORML [0] 打开
	PRINTFORML [1] 关闭
	$INPUT_LOOP_NTR_OPTION_32
	INPUT
	IF RESULT == 0
		SETBIT FLAG:ＮＴＲパッチ設定,32
		PRINTFORMW %NTR_NAME(0)%的行动会被报告出来
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSEIF RESULT == 1
		CLEARBIT FLAG:ＮＴＲパッチ設定,32
		PRINTFORMW %NTR_NAME(0)%的行动不会被报告出来，必须去偷窥，或者站在能直接看到%NTR_NAME(0)%的地方，或者与%NTR_NAME(0)%在同一地点
		GOTO INPUT_LOOP_NTR_OPTION_TOP
	ELSE
		GOTO INPUT_LOOP_NTR_OPTION_32
	ENDIF
ELSEIF RESULT == 100
	RETURN 0
ELSE
	GOTO INPUT_LOOP_NTR_OPTION
ENDIF
RETURN 0

;-------------------------------------------------------------------------------
;好感度吸収オプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_DRAIN_LOVE
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,1)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;素質吸収オプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_DRAIN_TALENT
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,2)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;長期滞在オプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_LONG_STAY
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,3)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;監禁オプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_IMPRISON_ENABLE
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,4)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;妊娠オプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_PREGNANCY_ENABLE
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,5)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;お持ち帰りオプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_TAKINGOUT_ENABLE
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,6)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;訪問者来訪オプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_VISITOR_COME
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,7)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;訪問者野外調教オプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_EXHIBITION
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,8)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;訪問者睡姦オプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_SLEEP_RAPE
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,9)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;恋慕つき住人のみ口説くオプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_ATTACK_LOVER_ONLY
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,24)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;处女保存オプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_KEEP_VIRGIN
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,25)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;NTR和姦モード
;　戻り値:0:关闭 1:打开
@IS_NTR_SOFT
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,27)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF


;-------------------------------------------------------------------------------
;浮気発覚回避逃避オプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_ESCAPE
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,30)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;場所筒抜けオプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_SHOW_POS
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,31)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;筒抜けオプション設定状態
;　戻り値:0:关闭 1:打开
@IS_NTR_SHOW_ALL
#FUNCTION
IF GETBIT(FLAG:ＮＴＲパッチ設定,32)
	RETURNF 1
ELSE
	RETURNF 0
ENDIF

;-------------------------------------------------------------------------------
;是否存在访问者中意的对象
@IS_VISITOR_FAVORITE_CHAR(charId)
	#FUNCTION
	#DIM charId

	SIF FLAG:訪問者のお気に入り != 999 && charId == FLAG:訪問者のお気に入り
		RETURNF 1
	RETURNF 0

;-------------------------------------------------------------------------------
;是否存在访问者不喜欢的对象
@IS_VISITOR_HATE_CHAR(charId)
	#FUNCTION
	#DIM charId

	SIF FLAG:訪問者の嫌いな相手 != 999 && charId == FLAG:訪問者の嫌いな相手
		RETURNF 1
	RETURNF 0

;-------------------------------------------------------------------------------
;是否存在访问者可出手的对象
@IS_VISITOR_HARASS_TARGET(charId, includeNTR)
	#FUNCTION
	#DIM charId
	#DIM includeNTR

	SIF !IS_NTR_ATTACK_LOVER_ONLY() || TALENT:charId:恋慕 || (includeNTR && TALENT:charId:NTR)
		RETURNF 1
	RETURNF 0

;-------------------------------------------------------------------------------
;访问者是否在中意的地方附近停留
@SETTING_VISITOR_STAY_AT_FAV_POS()
	#FUNCTION
	RETURNF GETBIT(FLAG:雑多設定, 4)