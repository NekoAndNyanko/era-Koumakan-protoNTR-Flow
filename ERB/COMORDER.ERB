@COM_ORDER

;ABL:亲密
IF ABL:亲密
	TFLAG:実行値 += ABL:亲密
	PRINT 亲密
	PRINTV 'LV,ABL:亲密,'(,ABL:亲密,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;ABL:顺从
IF ABL:顺从
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += ABL:顺从 * 4
	PRINT 顺从
	PRINTV 'LV,ABL:顺从,'(,ABL:顺从 * 4,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;ABL:抖Ｍ之气
IF ABL:抖Ｍ之气
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += ABL:抖Ｍ之气 * 2
	PRINT 抖Ｍ之气
	PRINTV 'LV,ABL:抖Ｍ之气,'(,ABL:抖Ｍ之气 * 2,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;レズ調教
IF HETEROSEX(TARGET,PLAYER) == 1
	;ABL:百合之气
	IF ABL:百合之气
		SIF TFLAG:実行値表示用フラグ
			PRINT  + 
		TFLAG:実行値 += ABL:百合之气 * 3
		PRINT 百合之气
		PRINTV 'LV,ABL:百合之气,'(,ABL:百合之气 * 3,')
		TFLAG:実行値表示用フラグ = 1
	ENDIF
	;ABL:百合中毒
	IF ABL:百合中毒
		SIF TFLAG:実行値表示用フラグ
			PRINT  + 
		TFLAG:実行値 += ABL:百合中毒 * 3
		PRINT 百合中毒
		PRINTV 'LV,ABL:百合中毒,'(,ABL:百合中毒 * 3,')
		TFLAG:実行値表示用フラグ = 1
	ENDIF
	;TALENT:両刀
	IF TALENT:性別嗜好 == -1
		SIF TFLAG:実行値表示用フラグ
			PRINT  + 
		TFLAG:実行値 += 10
		PRINT 両刀
		PRINTV '(,10,')
		TFLAG:実行値表示用フラグ = 1
	ENDIF
	;好奇心
	IF TALENT:性的兴趣 > 0
		SIF TFLAG:実行値表示用フラグ
			PRINT  + 
		TFLAG:実行値 += 7
		PRINT 好奇心
		PRINTV '(,7,')
		TFLAG:実行値表示用フラグ = 1
	ENDIF
	;保守的
	IF TALENT:性的兴趣 < 0
		PRINT  - 
		TFLAG:実行値 -= 13
		PRINT 保守的
		PRINTV '(,13,')
		TFLAG:実行値表示用フラグ = 1
	ENDIF
	;ゲイ調教
ELSEIF HETEROSEX(TARGET,PLAYER) == 2
	;ABL:断背之气
	IF ABL:断背之气
		SIF TFLAG:実行値表示用フラグ
			PRINT  + 
		TFLAG:実行値 += ABL:断背之气 * 3
		PRINT 断背之气
		PRINTV 'LV,ABL:断背之气,'(,ABL:断背之气 * 3,')
		TFLAG:実行値表示用フラグ = 1
	ENDIF
	;ABL:搞基中毒
	IF ABL:搞基中毒
		SIF TFLAG:実行値表示用フラグ
			PRINT  + 
		TFLAG:実行値 += ABL:搞基中毒 * 3
		PRINT 搞基中毒
		PRINTV 'LV,ABL:搞基中毒,'(,ABL:搞基中毒 * 3,')
		TFLAG:実行値表示用フラグ = 1
	ENDIF
	;TALENT:両刀
	IF TALENT:性別嗜好 == -1
		SIF TFLAG:実行値表示用フラグ
			PRINT  + 
		TFLAG:実行値 += 10
		PRINT 両刀
		PRINTV '(,10,')
		TFLAG:実行値表示用フラグ = 1
	ENDIF
	;好奇心
	IF TALENT:性的兴趣 > 0
		SIF TFLAG:実行値表示用フラグ
			PRINT  + 
		TFLAG:実行値 += 7
		PRINT 好奇心
		PRINTV '(,7,')
		TFLAG:実行値表示用フラグ = 1
	ENDIF
	;保守的
	IF TALENT:性的兴趣 < 0
		PRINT  - 
		TFLAG:実行値 -= 13
		PRINT 保守的
		PRINTV '(,13,')
		TFLAG:実行値表示用フラグ = 1
	ENDIF
ELSE
	;好奇心
	IF TALENT:性的兴趣 > 0
		SIF TFLAG:実行値表示用フラグ
			PRINT  + 
		TFLAG:実行値 += 5
		PRINT 好奇心
		PRINTV '(,5,')
		TFLAG:実行値表示用フラグ = 1
	ENDIF
	;保守的
	IF TALENT:性的兴趣 < 0
		PRINT  - 
		TFLAG:実行値 -= 10
		PRINT 保守的
		PRINTV '(,10,')
		TFLAG:実行値表示用フラグ = 1
	ENDIF
ENDIF

;刻印チェック
IF MARK:苦痛刻印
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += MARK:苦痛刻印 * 5
	PRINT 苦痛刻印
	PRINTV 'LV,MARK:苦痛刻印,'(,MARK:苦痛刻印 * 5,')
	TFLAG:実行値表示用フラグ = 1
ENDIF

IF TALENT:自尊心 > 0
	LOCAL = 4
ELSEIF TALENT:自尊心 < 0
	LOCAL = 1
ELSE
	LOCAL = 2
ENDIF

;屈服刻印および反発刻印
IF MARK:屈服刻印
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += MARK:屈服刻印 * 3 * LOCAL
	PRINT 屈服刻印
	PRINTV 'LV,MARK:屈服刻印,'(,MARK:屈服刻印 * 3 * LOCAL,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
IF MARK:反発刻印
	PRINT  - 
	TFLAG:実行値 -= MARK:反発刻印 * 2 * LOCAL
	PRINT 反発刻印
	PRINTV 'LV,MARK:反発刻印,'(,MARK:反発刻印 * 2 * LOCAL,')
	TFLAG:実行値表示用フラグ = 1
ENDIF


;PALAM:恭顺
IF GETPALAMLV(PALAM:恭顺,5)
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += GETPALAMLV(PALAM:恭顺,5) * 3
	PRINT 恭顺
	PRINTV 'LV,GETPALAMLV(PALAM:恭顺,5),'(,GETPALAMLV(PALAM:恭顺,5) * 3,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;PALAM:恐怖
IF GETPALAMLV(PALAM:恐怖,5)
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += GETPALAMLV(PALAM:恐怖,5) * 3
	PRINT 恭顺
	PRINTV 'LV,GETPALAMLV(PALAM:恐怖,5),'(,GETPALAMLV(PALAM:恐怖,5) * 3,')
	TFLAG:実行値表示用フラグ = 1
ENDIF

;服从
IF TALENT:服从
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += 10
	PRINT 服从
	PRINTV '(,10,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;隷属
IF TALENT:服从 > 1
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += 20
	PRINT 隷属
	PRINTV '(,20,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;反抗的（服从、隷属で無効）
IF TALENT:态度 > 0 && !TALENT:服从
	PRINT  - 
	TFLAG:実行値 -= 5
	PRINT 反抗的
	PRINTV '(,5,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;気丈
IF TALENT:胆量 > 0
	PRINT  - 
	TFLAG:実行値 -= 5
	PRINT 気丈
	PRINTV '(,5,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;素直
IF TALENT:态度 < 0
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += 5
	PRINT 素直
	PRINTV '(,5,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;自尊心高い
IF TALENT:自尊心 > 0
	PRINT  - 
	TFLAG:実行値 -= 15
	PRINT 自尊心高い
	PRINTV '(,15,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;自尊心低い
IF TALENT:自尊心 < 0
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += 5
	PRINT 自尊心低い
	PRINTV '(,5,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;表现欲
IF TALENT:表现欲
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += 2
	PRINT 表现欲
	PRINTV '(,2,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;抑圧
IF TALENT:自己爱 < 0
	PRINT  - 
	TFLAG:実行値 -= 10
	PRINT 抑圧
	PRINTV '(,10,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;抵抗
IF TALENT:抵抗
	PRINT  - 
	TFLAG:実行値 -= 10
	PRINT 抵抗
	PRINTV '(,10,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;弱味
IF TALENT:弱味
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += 12
	PRINT 弱味
	PRINTV '(,12,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;立即陷落
IF TALENT:立即陷落
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += 10
	PRINT 立即陷落
	PRINTV '(,10,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;妄信
IF TALENT:妄信
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += 8
	PRINT 妄信
	PRINTV '(,8,')
	TFLAG:実行値表示用フラグ = 1
ENDIF


;調教者の能力、素質
;ABL:抖Ｓ之气
IF ABL:PLAYER:抖Ｓ之气
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += ABL:PLAYER:抖Ｓ之气 * 2
	PRINT 調教者の抖Ｓ之气
	PRINTV 'LV,ABL:PLAYER:抖Ｓ之气,'(,ABL:PLAYER:抖Ｓ之气 * 2,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;魅惑
IF TALENT:PLAYER:魅惑
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += 6
	PRINT 調教者の魅惑
	PRINTV '(,6,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;迷の魅力
IF TALENT:PLAYER:迷の魅力
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += 8
	PRINT 調教者の迷の魅力
	PRINTV '(,8,')
	TFLAG:実行値表示用フラグ = 1
ENDIF
;施虐狂
IF TALENT:PLAYER:施虐狂
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += 3
	PRINT 調教者の施虐狂
	PRINTV '(,3,')
	TFLAG:実行値表示用フラグ = 1
ENDIF

;助手の素質
;鼓舞
IF ASSIPLAY && TALENT:PLAYER:鼓舞
	SIF TFLAG:実行値表示用フラグ
		PRINT  + 
	TFLAG:実行値 += 1
	PRINT 助手が鼓舞
	PRINTV '(,1,')
	TFLAG:実行値表示用フラグ = 1
ENDIF

;相性チェック
SELECTCASE RELATION:TARGET:(NO:PLAYER)
	CASE 0 TO 29
		PRINT  - 
		TFLAG:実行値 -= 10
		PRINT 相性最悪
		PRINTV '(,10,')
		TFLAG:実行値表示用フラグ = 1
	CASE 30 TO 69
		PRINT  - 
		TFLAG:実行値 -= 6
		PRINT 相性悪い
		PRINTV '(,10,')
		TFLAG:実行値表示用フラグ = 1
	CASE 70 TO 99
		PRINT  - 
		TFLAG:実行値 -= 3
		PRINT 相性いまいち
		PRINTV '(,3,')
		TFLAG:実行値表示用フラグ = 1
	CASE  100 TO 129
		SIF TFLAG:実行値表示用フラグ
			PRINT  + 
		TFLAG:実行値 += 3
		PRINT 相性ややよい
		PRINTV '(,3,')
		TFLAG:実行値表示用フラグ = 1
	CASE 130 TO 169
		SIF TFLAG:実行値表示用フラグ
			PRINT  + 
		TFLAG:実行値 += 6
		PRINT 相性よい
		PRINTV '(,6,')
		TFLAG:実行値表示用フラグ = 1
	CASE IS >= 170
		SIF TFLAG:実行値表示用フラグ
			PRINT  + 
		TFLAG:実行値 += 10
		PRINT 相性最高
		PRINTV '(,10,')
ENDSELECT
